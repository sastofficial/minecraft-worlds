execute store result score tx cas_pos run data get entity @s Pos[0] 100
execute store result score ty cas_pos run data get entity @s Pos[1] 100
execute store result score tz cas_pos run data get entity @s Pos[2] 100
scoreboard players operation tx cas_pos -= ox cas_pos
scoreboard players operation ty cas_pos -= oy cas_pos
scoreboard players operation tz cas_pos -= oz cas_pos
scoreboard players operation x cas_pos = tx cas_pos
execute if entity @s[nbt={Small:0b}] if score x cas_pos matches ..-1 run scoreboard players add x cas_pos 45
execute if entity @s[nbt={Small:0b}] if score x cas_pos matches 1.. run scoreboard players remove x cas_pos 45
execute if entity @s[nbt={Small:1b}] if score x cas_pos matches ..-1 run scoreboard players add x cas_pos 30
execute if entity @s[nbt={Small:1b}] if score x cas_pos matches 1.. run scoreboard players add x cas_pos 30
scoreboard players operation y cas_pos = x cas_pos
scoreboard players operation z cas_pos = x cas_pos
scoreboard players operation y cas_pos *= dyx cas_pos
scoreboard players operation z cas_pos *= dzx cas_pos
scoreboard players operation y cas_pos /= 10000 cas_pos
scoreboard players operation z cas_pos /= 10000 cas_pos
scoreboard players operation y cas_pos -= ty cas_pos
scoreboard players operation z cas_pos -= tz cas_pos
execute if entity @s[nbt={Small:0b}] if score y cas_pos matches 0..300 if score z cas_pos matches -45..45 run tag @s add casTemp
execute if entity @s[nbt={Small:1b}] if score y cas_pos matches 0..100 if score z cas_pos matches -30..30 run tag @s add casTemp
scoreboard players operation y cas_pos = ty cas_pos
execute if entity @s[nbt={Small:0b}] if score x cas_pos matches ..-1 run scoreboard players add y cas_pos 300
execute if entity @s[nbt={Small:1b}] if score x cas_pos matches ..-1 run scoreboard players add y cas_pos 300
scoreboard players operation x cas_pos = y cas_pos
scoreboard players operation z cas_pos = y cas_pos
scoreboard players operation x cas_pos *= dxy cas_pos
scoreboard players operation z cas_pos *= dzy cas_pos
scoreboard players operation x cas_pos /= 10000 cas_pos
scoreboard players operation z cas_pos /= 10000 cas_pos
scoreboard players operation x cas_pos -= tx cas_pos
scoreboard players operation z cas_pos -= tz cas_pos
execute if entity @s[nbt={Small:0b}] if score x cas_pos matches -45..45 if score z cas_pos matches -45..45 run tag @s add casTemp
execute if entity @s[nbt={Small:1b}] if score x cas_pos matches -30..30 if score z cas_pos matches -30..30 run tag @s add casTemp
scoreboard players operation z cas_pos = tz cas_pos
execute if entity @s[nbt={Small:0b}] if score z cas_pos matches ..-1 run scoreboard players add z cas_pos 45
execute if entity @s[nbt={Small:0b}] if score z cas_pos matches 1.. run scoreboard players remove z cas_pos 45
execute if entity @s[nbt={Small:1b}] if score z cas_pos matches ..-1 run scoreboard players add z cas_pos 30
execute if entity @s[nbt={Small:1b}] if score z cas_pos matches 1.. run scoreboard players add z cas_pos 30
scoreboard players operation x cas_pos = z cas_pos
scoreboard players operation y cas_pos = z cas_pos
scoreboard players operation x cas_pos *= dxz cas_pos
scoreboard players operation y cas_pos *= dyz cas_pos
scoreboard players operation x cas_pos /= 10000 cas_pos
scoreboard players operation y cas_pos /= 10000 cas_pos
scoreboard players operation x cas_pos -= tx cas_pos
scoreboard players operation y cas_pos -= ty cas_pos
execute if entity @s[nbt={Small:0b}] if score x cas_pos matches -45..45 if score y cas_pos matches 0..300 run tag @s add casTemp
execute if entity @s[nbt={Small:1b}] if score x cas_pos matches -30..30 if score y cas_pos matches 0..100 run tag @s add casTemp